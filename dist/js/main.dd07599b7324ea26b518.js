!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.r(e);var r=function(){function t(){i(this,t)}return a(t,null,[{key:"rotate",value:function(t,e){var n=Math.cos(e),i=Math.sin(e);return[t[0]*n-t[1]*i,t[1]*n+t[0]*i]}},{key:"dot",value:function(t,e){return t[0]*e[0]+t[1]*e[1]}},{key:"cross",value:function(t,e){return t[0]*e[1]-t[1]*e[0]}},{key:"add",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"sub",value:function(t,e){return[t[0]-e[0],t[1]-e[1]]}},{key:"projection",value:function(e,n){var i=t.dot(e,n)/t.dot(n,n);return[n[0]*i,n[1]*i]}},{key:"length",value:function(e){return Math.sqrt(t.dot(e,e))}},{key:"scale",value:function(t,e){return[t[0]*e,t[1]*e]}},{key:"collisionCalc",value:function(e,n,i,o){return t.scale(t.add(t.scale(e,i-o),t.scale(n,2*o)),1/(i+o))}}]),t}();function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"toPosRate",value:function(t,e,n){return[t[0]*(1-n)+e[0]*n,t[1]*(1-n)+e[1]*n]}},{key:"cross",value:function(t,e,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}},{key:"getCenter",value:function(t,e){return[.5*(t[0]+e[0]),.5*(t[1]+e[1])]}},{key:"getVector",value:function(t,e){return[e[0]-t[0],e[1]-t[1]]}},{key:"addVector",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"distance",value:function(e,n){return r.length(t.getVector(e,n))}}],(n=null)&&s(e.prototype,n),i&&s(e,i),t}();function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}for(var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"hsl(0,100%,50%)";u(this,t),this.options={pos:e,velocity:n,volume:i,z:o,zVelocity:a,color:r},this.init()}var e,n,i;return e=t,(n=[{key:"init",value:function(){this.maxVolume=this.options.volume,this.volume=this.maxVolume,this.prevPos=this.options.pos.slice(),this.pos=this.options.pos.slice(),this.velocity=this.options.velocity.slice(),this.z=this.options.z,this.zVelocity=this.options.zVelocity,this.swing=Math.random(),this.data=[]}},{key:"update",value:function(){this.prevVolume=this.volume,this.prevZ=this.z,this.prevPos[0]=this.pos[0],this.prevPos[1]=this.pos[1],this.pos[0]+=this.velocity[0],this.pos[1]+=this.velocity[1];var t=r.rotate([Math.sin(2*this.swing*Math.PI),0],Math.atan2(this.velocity[0],-this.velocity[1])),e=1-this.volume/this.maxVolume;this.velocity[0]+=e*t[0],this.velocity[1]+=e*t[1],this.z+=this.zVelocity,this.zVelocity-=.981,this.zVelocity*=.94,this.z<0&&(this.zVelocity*=-1,this.zVelocity*=.8,this.z=0),this.z<this.volume?(this.velocity[0]*=.8,this.velocity[1]*=.8,this.swing+=.1,this.swing%=1,this.volume>0&&(this.volume-=1.5+.2*Math.random())):(this.velocity[0]*=.94,this.velocity[1]*=.94)}},{key:"render",value:function(t){if(!(this.volume<=0)&&this.z<this.volume){var e=this.volume-this.z;e=e>1?e:1;var n=this.prevVolume-this.prevZ;n=n>1?n:1,t.fillStyle=this.options.color;var i=function(t,e,n,i){var o=l.distance(t,n);if(!(o<Math.abs(i-e))){var a=r.sub(n,t),s=Math.atan2(a[1],a[0]),u=Math.acos((e-i)/o),c=[Math.cos(s-u),Math.sin(s-u)],h=r.add(t,r.scale(c,e)),f=r.add(n,r.scale(c,i)),v=[Math.cos(s+u),Math.sin(s+u)];return[{p0:h,p1:f},{p0:r.add(t,r.scale(v,e)),p1:r.add(n,r.scale(v,i))}]}}(this.prevPos,n,this.pos,e);i?(t.beginPath(),t.moveTo(i[0].p0[0],i[0].p0[1]),t.lineTo(i[0].p1[0],i[0].p1[1]),t.lineTo(i[1].p1[0],i[1].p1[1]),t.lineTo(i[1].p0[0],i[1].p0[1]),t.fill(),t.beginPath(),t.arc(this.prevPos[0],this.prevPos[1],n,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(this.pos[0],this.pos[1],e,0,2*Math.PI,!0),t.fill()):n>e?(t.beginPath(),t.arc(this.prevPos[0],this.prevPos[1],n,0,2*Math.PI,!0),t.fill()):(t.beginPath(),t.arc(this.pos[0],this.pos[1],e,0,2*Math.PI,!0),t.fill())}}}])&&c(e.prototype,n),i&&c(e,i),t}(),f=function(t,e,n,i,o){t.shadowColor=o,t.shadowBlur=i,t.shadowOffsetX=e,t.shadowOffsetY=n},v=new Array(200),d=0,p=v.length;d<p;d++)v[d]=1-2*Math.random();var y,m,g,b=document.getElementById("canvas01"),M=b.getContext("2d"),w=document.getElementById("canvas02"),P=w.getContext("2d"),k=[0,0],x=20,z=!0;window.addEventListener("mousemove",(function(t){k[0]=t.offsetX,k[1]=t.offsetY}));var V=k.slice(),T=!1;function O(){V=k.slice(),S.forEach((function(t,e,n){t.update()})),M.save(),S.forEach((function(t){return t.render(M)})),M.restore(),P.clearRect(0,0,y,m),T&&(P.save(),f(P,0,0,10,"rgba(0,0,0,0.5)"),x++,x=Math.min(x,40),P.fillStyle=g,P.beginPath(),P.arc(k[0],k[1],x,0,2*Math.PI,!0),P.fill(),P.restore()),z&&(P.save(),P.font="bold 32px Noto Sans TC",P.textAlign="center",P.textBaseline="hanging",P.fillStyle="#f0f0f0",P.fillText("滑鼠按住集氣油漆，放開的瞬間移動方向可改變潑灑方位。",.5*y,.5*m),P.restore())}window.addEventListener("mousedown",(function(t){T=!0,x=20,g="hsla(".concat(360*Math.random(),",100%,50%)"),z=!1})),window.addEventListener("mouseup",(function(t){T=!1;var e=r.sub(k,V),n=Math.atan2(e[1],e[0]),i=r.scale([Math.cos(n),Math.sin(n)],Math.min(.5*r.length(e),80));!function(t,e,n,i){for(var o=0;o<32;o++){var a=o/32*2*Math.PI,s=Math.min(.5*r.length(n),10),l=5+e*Math.random()-s,u=2+2*Math.random()+150/l,c=[Math.cos(a),Math.sin(a)];S.push(new h(r.add(t,r.scale(c,.5*e)),r.add(r.scale(c,u),n),l,3+7*Math.random()+s*Math.random(),10/l,i))}}(k,x,i,g)})),window.addEventListener("resize",(function(){j()}));var S=[],j=function(){y=b.width=w.width=window.innerWidth,m=b.height=w.height=window.innerHeight,M.fillStyle="#000000",M.fillRect(0,0,y,m),O()},E=Date.now();j(),function t(){requestAnimationFrame(t);var e=Date.now(),n=(e-E)/1e3;E=e,O(),P.save(),P.font="bold 18px Noto Sans TC",P.textAlign="start",P.textBaseline="hanging",P.fillStyle="#ff0000",P.fillText((1/n).toFixed(1),10,10),P.restore()}()}]);